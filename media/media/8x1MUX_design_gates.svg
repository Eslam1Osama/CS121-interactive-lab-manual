<svg width="1000" height="700" viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <!-- Define styles for the SVG elements -->
        <style>
            /* Using a clean, modern font for all text */
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap');
            
            .component-label {
                font-size: 15px;
                font-weight: bold;
                font-family: 'Inter', sans-serif;
                fill: #1e3a8a; /* Dark blue for major labels */
                text-anchor: middle;
            }
            .pin-label {
                font-size: 13px;
                font-family: 'Inter', sans-serif;
                fill: #1e293b; /* Dark gray for pin labels */
            }
            .line {
                stroke: #475569; /* Softer gray for connection lines */
                stroke-width: 1.5;
                fill: none;
            }
            .line-d-prime {
                stroke: #d97706; /* Amber for D' */
                stroke-width: 1.5;
                fill: none;
            }
            .line-vcc {
                stroke: #dc2626; /* Red for VCC */
                stroke-width: 1.5;
                fill: none;
            }
            .line-gnd {
                stroke: #2563eb; /* Blue for GND */
                stroke-width: 1.5;
                fill: none;
            }
            .gate {
                fill: #f0f9ff; /* Light blue fill for gates */
                stroke: #0ea5e9; /* Sky blue stroke */
                stroke-width: 2;
            }
            .mux-body {
                fill: #eef2ff; /* Light indigo for MUX body */
                stroke: #4338ca; /* Indigo stroke */
                stroke-width: 2;
                filter: url(#shadow); /* Apply a subtle shadow */
            }
            .bulb-glass-off {
                fill: #e5e7eb; /* Light gray for the glass */
                stroke: #9ca3af;
                stroke-width: 1.5;
            }
            .bulb-base {
                fill: #d1d5db; /* Medium gray for the bulb base */
                stroke: #6b7280;
                stroke-width: 1;
            }
             .bulb-filament {
                stroke: #9ca3af;
                stroke-width: 1.5;
                fill: none;
            }
            .power-label {
                font-size: 16px;
                font-family: 'Inter', sans-serif;
                font-weight: bold;
                fill: #1e293b;
                text-anchor: middle;
            }
            .connection-dot {
                fill: #475569;
            }
            .connection-dot-d-prime { fill: #d97706; }
            .connection-dot-vcc { fill: #dc2626; }
            .connection-dot-gnd { fill: #2563eb; }
        </style>
        
        <!-- Filter for a subtle drop shadow to add depth -->
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
            <feOffset dx="2" dy="2" result="offsetblur"/>
            <feComponentTransfer>
                <feFuncA type="linear" slope="0.3"/>
            </feComponentTransfer>
            <feMerge>
                <feMergeNode/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>
        
        <!-- Reusable Light Bulb Symbol -->
        <g id="light-bulb-symbol">
            <rect x="-6" y="0" width="12" height="8" rx="2" class="bulb-base"/>
            <path d="M -5 3 L 5 3 M -5 5 L 5 5" stroke="#6b7280" stroke-width="1"/>
            <circle cx="0" cy="-8" r="12" class="bulb-glass-off"/>
            <path d="M -4 -4 L -2 -10 L 2 -10 L 4 -4" class="bulb-filament"/>
        </g>

        <!-- Reusable VCC (Logic 1) Symbol -->
        <g id="vcc-symbol">
            <line x1="0" y1="0" x2="0" y2="-15" class="line-vcc"/>
            <path d="M 0 -15 L -10 -25 L 10 -25 Z" fill="#dc2626"/>
            <text x="0" y="-35" class="power-label">VCC (1)</text>
        </g>

        <!-- Reusable GND (Logic 0) Symbol -->
        <g id="gnd-symbol">
            <line x1="0" y1="0" x2="0" y2="15" class="line-gnd"/>
            <line x1="-10" y1="15" x2="10" y2="15" stroke="#2563eb" stroke-width="2"/>
            <line x1="-6" y1="20" x2="6" y2="20" stroke="#2563eb" stroke-width="2"/>
            <line x1="-3" y1="25" x2="3" y2="25" stroke="#2563eb" stroke-width="2"/>
            <text x="0" y="45" class="power-label">GND (0)</text>
        </g>
    </defs>

    <!-- Background -->
    <rect width="100%" height="100%" fill="#f8fafc"/>

    <!-- Title -->
    <text x="500" y="40" class="component-label" font-size="20">F(A,B,C,D) = Σ(0,3,4,7,8,9,12,15) using 8x1 MUX</text>

    <!-- MUX 74151 -->
    <g id="mux-group">
        <rect x="400" y="100" width="200" height="500" rx="10" ry="10" class="mux-body"/>
        <text x="500" y="90" class="component-label">8x1 MUX</text>
        <text x="500" y="115" class="pin-label" text-anchor="middle">(74151)</text>
    </g>

    <!-- MUX Data Inputs (D0-D7) -->
    <g id="mux-data-inputs">
        <text x="380" y="145" class="pin-label">D₀</text><line x1="320" y1="150" x2="400" y2="150" class="line"/>
        <text x="380" y="195" class="pin-label">D₁</text><line x1="320" y1="200" x2="400" y2="200" class="line"/>
        <text x="380" y="245" class="pin-label">D₂</text><line x1="320" y1="250" x2="400" y2="250" class="line"/>
        <text x="380" y="295" class="pin-label">D₃</text><line x1="320" y1="300" x2="400" y2="300" class="line"/>
        <text x="380" y="345" class="pin-label">D₄</text><line x1="320" y1="350" x2="400" y2="350" class="line"/>
        <text x="380" y="395" class="pin-label">D₅</text><line x1="320" y1="400" x2="400" y2="400" class="line"/>
        <text x="380" y="445" class="pin-label">D₆</text><line x1="320" y1="450" x2="400" y2="450" class="line"/>
        <text x="380" y="495" class="pin-label">D₇</text><line x1="320" y1="500" x2="400" y2="500" class="line"/>
    </g>

    <!-- MUX Select Inputs (A,B,C) -->
    <g id="mux-select-inputs">
        <text x="450" y="665" class="pin-label" text-anchor="middle">A</text><line x1="450" y1="600" x2="450" y2="650" class="line"/>
        <text x="500" y="665" class="pin-label" text-anchor="middle">B</text><line x1="500" y1="600" x2="500" y2="650" class="line"/>
        <text x="550" y="665" class="pin-label" text-anchor="middle">C</text><line x1="550" y1="600" x2="550" y2="650" class="line"/>
        <text x="500" y="625" class="component-label">Select</text>
    </g>

    <!-- MUX Output -->
    <g id="mux-output">
        <text x="615" y="340" class="pin-label">F</text>
        <line x1="600" y1="350" x2="750" y2="350" class="line"/>
        <use href="#light-bulb-symbol" transform="translate(750, 350)"/>
    </g>

    <!-- Data Input Sources -->
    <g id="data-sources">
        <!-- D and D' lines -->
        <line x1="80" y1="150" x2="80" y2="500" class="line"/>
        <text x="80" y="135" class="pin-label" text-anchor="middle">D</text>
        
        <line x1="80" y1="275" x2="130" y2="275" class="line"/>
        <circle cx="80" cy="275" r="3" class="connection-dot"/>
        <g transform="translate(130, 275)" filter="url(#shadow)">
            <path d="M 0 -8 L 25 0 L 0 8 Z" class="gate"/>
            <circle cx="30" cy="0" r="5" class="gate"/>
        </g>
        <line x1="165" y1="275" x2="240" y2="275" class="line-d-prime"/>
        <line x1="240" y1="150" x2="240" y2="450" class="line-d-prime"/>
        <text x="240" y="135" class="pin-label" text-anchor="middle">D'</text>

        <!-- VCC and GND symbols -->
        <use href="#vcc-symbol" transform="translate(160, 150)"/>
        <use href="#gnd-symbol" transform="translate(160, 550)"/>
    </g>
    
    <!-- Connections to MUX inputs -->
    <g id="mux-connections">
        <!-- D0 to D' -->
        <line x1="240" y1="150" x2="320" y2="150" class="line-d-prime"/>
        <circle cx="240" cy="150" r="3" class="connection-dot-d-prime"/>

        <!-- D1 to D -->
        <line x1="80" y1="200" x2="320" y2="200" class="line"/>
        <circle cx="80" cy="200" r="3" class="connection-dot"/>

        <!-- D2 to D' -->
        <line x1="240" y1="250" x2="320" y2="250" class="line-d-prime"/>
        <circle cx="240" cy="250" r="3" class="connection-dot-d-prime"/>

        <!-- D3 to D -->
        <line x1="80" y1="300" x2="320" y2="300" class="line"/>
        <circle cx="80" cy="300" r="3" class="connection-dot"/>

        <!-- D4 to VCC -->
        <line x1="160" y1="350" x2="320" y2="350" class="line-vcc"/>
        <line x1="160" y1="150" x2="160" y2="350" class="line-vcc"/>
        <circle cx="160" cy="350" r="3" class="connection-dot-vcc"/>

        <!-- D5 to GND -->
        <line x1="160" y1="400" x2="320" y2="400" class="line-gnd"/>
        <line x1="160" y1="400" x2="160" y2="550" class="line-gnd"/>
        <circle cx="160" cy="400" r="3" class="connection-dot-gnd"/>

        <!-- D6 to D' -->
        <line x1="240" y1="450" x2="320" y2="450" class="line-d-prime"/>
        <circle cx="240" cy="450" r="3" class="connection-dot-d-prime"/>
        
        <!-- D7 to D -->
        <line x1="80" y1="500" x2="320" y2="500" class="line"/>
        <circle cx="80" cy="500" r="3" class="connection-dot"/>
    </g>
</svg>
